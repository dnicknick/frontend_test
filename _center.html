<form name="form" class="form-horizontal" role="form">
  <div id="subject">
    <div class="form-group">
      <label class="control-label col-sm-2" for="title_subject">Название предмета:</label>

      <div class="col-sm-10">
        <input type="text" id="title_subject" name="title_subject" value="subject_title" ng-model="title_subject"
               required>
        <span style="color:red" ng-show="myForm.title_subject.$dirty && myForm.title_subject.$invalid">
          <span ng-show="myForm.title_subject.$error.required">Subject Title is required.</span>
        </span>
      </div>
    </div>
    <div class="form-group">
      <label class="control-label col-sm-2" for="count_ratings">количество оценок/занятий:</label>

      <div class="col-sm-10">
        <input type="number" id="count_ratings" name="count_ratings" min="0" max="40" step="1" ng-model="count_ratings"
               required>
          <span style="color:red" ng-show="myForm.count_ratings.$dirty && myForm.count_ratings.$invalid">
            <span ng-show="myForm.count_ratings.$error.required">Count Ratings is required.</span>
            <span ng-show="myForm.count_ratings.$error.number">Invalid number.</span>
          </span>
      </div>
    </div>

    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <button type="submit" class="btn btn-default" onclick="build_items()">build_items</button>
      </div>
    </div>
  </div>

  <div ui-view></div>

  <div id="subitems">
  </div>

  <div id="calculation" style="visibility: hidden;">
    <span id="demo"><span>Расчет</span> долей пропущенных занятий:</span>

    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <button type="submit" class="btn btn-default" ng-click="checkfields()">do_check</button>
      </div>
    </div>

    <div>
      <br/>
      <label>по уважительной причине: <span id="calc_respectfully"></span>%</label>
      <br/>
      <label>по неуважительной причине: <span id="calc_disrespectfully"></span>%</label>
      <br/>
      <label>Средняя оценка: <span id="middle_mark"></span></label>
      <br/>

      <p id="result"></p>

      <p id="credit_accepted"></p>
    </div>
  </div>

  <button class="btn btn-success" ng-disabled="error || incomplete" onclick="send_on_server()">
    <span class="glyphicon glyphicon-save"></span> Send Changes
  </button>
</form>
